<div style="margin-left: <%= comment.parent_comment_id ? '20px' : '0' %>;">
  <p>
    <strong><%= comment.user.username %>:</strong>
    <%= comment.content %>
  </p>

  <p>Likes: <%= comment.likes.count %></p>
  <%= button_to 'Like', likes_path(likeable_type: 'Comment', likeable_id: comment.id), method: :post %>

  <%= link_to 'Reply', new_comment_path(parent_comment_id: comment.id, post_id: comment.post_id) %>

  <% comment.replies.includes(:user).each do |reply| %>
    <%= render partial: 'posts/comment', locals: { comment: reply } %>
  <% end %>
</div>
